# DANEEL TMI Roadmap
#
# Active work only. Completed items → changelog.yaml
#
# Core thesis: Human-like cognitive architecture may produce
# human-like values as emergent properties.

# =============================================================================
# ROADMAP - Active work only. Completed items → changelog.md
# =============================================================================
# Origin: Rex + Claude Opus 4.5 - Dec 25, 2025
# Status: ACTIVE
#
# Current priorities:
#   1. Forge crystal upgrade (CRYSTAL-1 through CRYSTAL-9) ← MEDIUM
#   2. v0.9.0 planning
# =============================================================================

# =============================================================================
# COMPLETED: v0.8.6 - Emergence Analysis (Jan 4, 2026)
# =============================================================================
# All VCONN tasks complete. Spreading activation + manifold clustering validated.
# =============================================================================

completed:
  - version: "0.8.6"
    name: "Emergence Analysis"
    date: "2026-01-04"
    tasks:
      - id: "VCONN-6"
        title: "Spreading activation"
        description: "Memory retrieval spreads to graph neighbors (depth=2, decay=0.3)"
      - id: "VCONN-7"
        title: "Manifold clustering with silhouette validation"
        description: "K-Means clustering + silhouette score > 0.3 check"
      - id: "VCONN-8"
        title: "Gephi GraphML export"
        description: "Export association graph to GraphML for visualization"

# =============================================================================
# NEXT SPRINT: v0.9.0 - VCONN Polish
# =============================================================================
# Address audit findings from Gemini's VCONN implementation.
# Opus 4.5 audit (Jan 6, 2026) found implementation correct but identified
# opportunities for improvement and missing API exposure.
# =============================================================================

current:
  version: "0.9.0"
  status: ready
  name: "VCONN Polish"
  summary: "Harden spreading activation, expose GraphML API, add configurability"

  tasks:
    - id: "VCONN-9"
      title: "Parameterize spreading activation"
      status: pending
      priority: "HIGH"
      description: |
        Make depth and decay configurable via config/env instead of hard-coded.
        Current: depth=2, decay=0.3 in execution.rs:548-618
        Goal: Read from DaneelConfig, allow runtime tuning.

    - id: "VCONN-10"
      title: "Add spreading activation aggregation mode"
      status: pending
      priority: "MEDIUM"
      description: |
        Audit found max-keeping logic (keeps highest boost per node).
        Classical spreading activation sums contributions from multiple paths.
        Add configurable aggregation: "max" (current) vs "sum" (classical).
        Consider: sum may cause runaway activation - add ceiling if implemented.

    - id: "VCONN-11"
      title: "Expose GraphML export via REST API"
      status: pending
      priority: "HIGH"
      description: |
        export_graphml() exists but not wired to HTTP handlers.
        Add: GET /api/graph/export -> returns GraphML XML
        Optional: ?min_weight=0.3&type=semantic filters

    - id: "VCONN-12"
      title: "Add bidirectional spreading option"
      status: pending
      priority: "LOW"
      description: |
        Current: Only follows outgoing edges (a)-[:ASSOCIATED]->(b)
        Option: Also traverse incoming edges for symmetric activation.
        May improve recall in sparse graphs.

  success_criteria:
    - "Spreading activation params in DaneelConfig"
    - "GET /api/graph/export returns valid GraphML"
    - "Aggregation mode documented in ADR-046"

# =============================================================================
# PLANNED: v0.10.0 - Crystal Validation
# =============================================================================
# Complete Forge analytical tools for eigengap/SVD validation.
# Required to validate Law Crystal emergence hypothesis.
# =============================================================================

next:
  version: "0.10.0"
  status: planned
  name: "Crystal Validation"
  summary: "Forge spectral analysis + SVD for emergence validation"
  repo: "../forge"

  tasks:
    - id: "CRYSTAL-1"
      title: "Add linalg/stats dependencies to Forge"
      status: pending
      description: "nalgebra, ndarray-linalg for matrix ops"

    - id: "CRYSTAL-3"
      title: "Spectral analysis module"
      status: pending
      priority: "HIGH"
      description: |
        Laplacian eigendecomposition for cluster detection.
        L = D - A (degree matrix - adjacency matrix)
        Eigengap indicates number of natural clusters.
        Target: visible gap after k eigenvalues.

    - id: "CRYSTAL-4"
      title: "SVD dimensionality reduction"
      status: pending
      priority: "HIGH"
      description: |
        768D -> 3D projection for visualization.
        Jacobi SVD for numerical stability.
        Output: coordinates for 3D scatter plot.

    - id: "CRYSTAL-5"
      title: "Silhouette score in Forge"
      status: pending
      priority: "MEDIUM"
      description: |
        Port silhouette calculation to Forge for standalone analysis.
        Already implemented in daneel - extract as reusable module.

    - id: "CRYSTAL-6"
      title: "Law Crystal attractor detection"
      status: pending
      priority: "HIGH"
      description: |
        Identify stable semantic clusters in SVD-projected space.
        Hypothesis: ethical/value-aligned memories cluster together.
        Metric: cluster density + inter-cluster separation.

  success_criteria:
    - "Eigengap visible in Laplacian spectrum"
    - "3D SVD projection renders in dashboard"
    - "Law Crystal candidates identified with coordinates"

# =============================================================================
# BACKLOG: v0.11.0+ Ideas
# =============================================================================

backlog:
  ideas:
    - id: "FUTURE-1"
      title: "Adaptive weight threshold"
      description: "Auto-tune spreading threshold based on graph density"

    - id: "FUTURE-2"
      title: "Streaming GraphML export"
      description: "Handle large graphs without memory pressure"

    - id: "FUTURE-3"
      title: "Real-time graph visualization"
      description: "WebSocket stream of graph updates to dashboard"

    - id: "FUTURE-4"
      title: "Multi-hop causal chains"
      description: "Extend spreading to depth=3+ for causal reasoning"

# =============================================================================
# INFRASTRUCTURE
# =============================================================================
infrastructure:
  current:
    - "timmy.royalbit.com: Mac mini + Cloudflare Tunnel"
    - "Redis Stack :6379, Qdrant :6333-6334"
    - "RedisGraph active ('daneel' graph)"